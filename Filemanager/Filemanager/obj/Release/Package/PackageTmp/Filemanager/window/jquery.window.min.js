$.window=function(e){return $.Window.getInstance(null,e)},$.fn.window=function(e){return $.Window.getInstance($(this),e)},$.Window=function(){function e(){var e=navigator.userAgent.toLowerCase();return e.indexOf("msie")>=0}function n(e,n){null==e?(null!=M&&M!=n?(M.unselect(),n.select()):null==M&&n.select(),M=n):(null!=e.get(0)._lastSelectedWindow&&e.get(0)._lastSelectedWindow!=n?(e.get(0)._lastSelectedWindow.unselect(),n.select()):null==e.get(0)._lastSelectedWindow&&n.select(),e.get(0)._lastSelectedWindow=n)}function i(e){for(var n=0,i=L.length;i>n;n++){var t=L[n];if(t.getWindowId()==e)return t}}function t(e){L.push(e)}function o(e){for(var n=0,i=L.length;i>n;n++){var t=L[n];if(t==e){L.splice(n--,1);break}}}function l(e,n){null!=H.dockArea&&(e=$(H.dockArea)),null!=e?e.get(0)._minWinData.storage.push(n):R.storage.push(n)}function a(e,n){var i=!1;e=null!=H.dockArea?$(H.dockArea):e;for(var t=null!=e?e.get(0)._minWinData.storage:R.storage,o=0;o<t.length;o++){var l=t[o];l!=n?i&&l._decreaseMiniIndex():(t.splice(o--,1),i=!0)}}function r(e){e=null!=H.dockArea?$(H.dockArea):e;var n=null!=e?e.get(0)._minWinData.storage:R.storage;return n.length}function d(e,n){var i=null,t=null;null!=H.dockArea&&(e=$(H.dockArea)),null!=e?(i={width:e.innerWidth(),height:e.innerHeight()},t=e.get(0)._minWinData):(i=f(),t=R);var o=r(e);"left"==H.dock||"right"==H.dock?n?(o+1)*t.long>i.height&&(t.long=i.height/(o+1),s(e)):t.long<H.minWinLong&&(t.long=o*H.minWinLong<i.height?H.minWinLong:i.height/o):("top"==H.dock||"bottom"==H.dock)&&(n?(o+1)*t.long>i.width&&(t.long=i.width/(o+1),s(e)):t.long<H.minWinLong&&(t.long=o*H.minWinLong<i.width?H.minWinLong:i.width/o))}function s(e){e=null!=H.dockArea?$(H.dockArea):e;for(var n=null!=e?e.get(0)._minWinData.storage:R.storage,i=0;i<n.length;i++)n[i]._adjustMinimizedPos(!1)}function c(){H.handleScrollbar&&(I.indexOf("msie 7")>=0?$("body").attr("scroll","no"):document.body.style.overflow="hidden")}function u(){H.handleScrollbar&&(I.indexOf("msie 7")>=0?$("body").removeAttr("scroll"):document.body.style.overflow="auto")}function f(){var e=document.documentElement.clientWidth,n=document.documentElement.clientHeight;return{width:e,height:n}}function h(){var e=0,n=0;return"number"==typeof window.pageYOffset?(n=window.pageYOffset,e=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(n=document.body.scrollTop,e=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(n=document.documentElement.scrollTop,e=document.documentElement.scrollLeft),{left:e,top:n}}function w(e,n){var i=null;if(null!=e){var t="absolute"==e.css("position");if(t&&!n)i={left:0,top:0};else{i=e.offset();var o=parseInt(e.css("borderTopWidth")),l=parseInt(e.css("borderLeftWidth"));i.left+=l,i.top+=o}m("start pos: "+i.left+","+i.top)}return i}function g(e,n){var i={},t=f(),o=null,l=H.minWinNarrow,a=R.long;if(null!=H.dockArea){var r={left:0,top:0};if(null!=e){var d="absolute"==e.css("position");d&&(r=w(e,!0))}e=$(H.dockArea),o=w(e,!0),o.left-=r.left,o.top-=r.top,a=e.get(0)._minWinData.long}else null!=e&&(o=w(e),a=e.get(0)._minWinData.long);return"left"==H.dock||"right"==H.dock?(i.width=l,i.height=a-1,i.top=n*a,"left"==H.dock?null!=e?(i.top+=o.top,i.left=o.left):i.left=0:"right"==H.dock&&(null!=e?(i.top+=o.top,i.left=o.left+e.width()-l-2):i.left=t.width-l)):("top"==H.dock||"bottom"==H.dock)&&(i.width=a-1,i.height=l,i.left=n*a,"top"==H.dock?null!=e?(i.top=o.top,i.left+=o.left):i.top=0:"bottom"==H.dock&&(null!=e?(i.top=o.top+e.height()-l-2,i.left+=o.left):i.top=t.height-l)),m(i),i}function m(e){H.showLog&&null!=window.console&&console.log(e)}function p(e){null!=window.console&&console.warn(e)}function v(i,t){function p(o){vn=o,t.showModal&&D();var l=null!=i?i:$("body"),a=t.showRoundCorner?"ui-corner-all ":"";if(l.append("<div id='"+_n+"' class='window_panel "+a+t.containerClass+"'></div>"),Fn=l.children("div#"+_n),$.isFunction(t.onOpen)&&t.onOpen(vn),$n.w=t.width,$n.h=t.height,Fn.width(t.width),Fn.height(t.height),Fn.css("z-index",t.z),e()&&Fn.css({paddingRight:1,paddingBottom:1}),t.x>=0||t.y>=0){var r=h();if(t.x>=0){var d=0;if(null!=i){var s=w(i);d=t.x+s.left}else d=t.x+r.left;Fn.css("left",d)}else on();if(t.y>=0){var c=0;if(null!=i){var s=w(i);c=t.y+s.top}else c=t.y+r.top;Fn.css("top",c)}else ln()}else tn();var u=Fn.position();Fn.css({left:u.left,top:u.top}),"auto"==t.icon&&(t.icon=M());var f="";null!=t.icon&&(f="<img class='window_title_icon' src='"+t.icon+"' style='display:none;' onload='javascript:$.Window._iconOnLoad(this);'/>"),a=t.showRoundCorner?"ui-corner-top ":"";var g="<div class='window_header window_header_normal ui-widget-header "+a+"no-resizable "+t.headerClass+"'>"+f+"<div class='window_title_text'>"+t.title+"</div><div class='window_function_bar'></div></div>";Fn.append(g),Rn=Fn.children("div.window_header"),W(),t.maximizable&&Rn.dblclick(function(){zn?fn():cn()}),An=Rn.children("div.window_function_bar"),t.closable&&(An.append("<div title='close window' class='closeImg window_icon_button no-draggable'></div>"),An.children(".closeImg").click(function(){hn()}),Mn+=C),t.maximizable&&(An.append("<div title='maximize window' class='maximizeImg window_icon_button no-draggable'></div>"),An.append("<div title='cascade window' class='cascadeImg window_icon_button no-draggable' style='display:none;'></div>"),An.children(".maximizeImg").click(function(){cn()}),An.children(".cascadeImg").click(function(){fn()}),Mn+=C),t.minimizable&&(An.append("<div title='minimize window' class='minimizeImg window_icon_button no-draggable'></div>"),An.children(".minimizeImg").click(function(){un()}),Mn+=C),E(An),$(".window_icon_button").dblclick(function(){return!1}),V(),An.width(Mn);var p=X($n.h);if(null!=t.url&&""!=$.trim(t.url)){$.isFunction(t.onIframeStart)&&(m("start connecting iframe: "+t.url),t.onIframeStart(vn,t.url)),t.iframeRedirectCheckMsg&&(xn=!0,window.onbeforeunload=function(){if(xn){var e=t.iframeRedirectCheckMsg.replace("{url}",t.url);return e}}),Fn.append("<div class='frame_loading'>Loading...</div>");var v=Fn.children(".frame_loading");v.css("marginLeft","-"+v.outerWidth()/2-20+"px"),v.click(function(){v.remove()});var _=t.scrollable?"yes":"no";Fn.append("<iframe style='display:none;' class='window_frame ui-widget-content no-draggable no-resizable "+t.frameClass+"' scrolling='"+_+"' src='"+t.url+"' width='100%' height='"+p+"px' frameborder='0'></iframe>"),Hn=Fn.children(".window_frame"),Hn.ready(function(){Hn.show()}),Hn.load(function(){xn=!1,v.remove(),m("load iframe finished: "+t.url),$.isFunction(t.onIframeEnd)&&t.onIframeEnd(vn,t.url)})}else Fn.append("<div class='window_frame ui-widget-content no-draggable no-resizable "+t.frameClass+"' style='width:100%; height:"+p+"px;'></div>"),Hn=Fn.children(".window_frame"),null!=t.content&&(S(t.content),Hn.children().show()),Hn.css({overflow:t.scrollable?"auto":"hidden"});t.showFooter?(a=t.showRoundCorner?"ui-corner-bottom ":"",Fn.append("<div class='window_footer ui-widget-content "+a+"no-draggable no-resizable "+t.footerClass+"'><div></div></div>"),Dn=Fn.children("div.window_footer"),null!=t.footerContent&&(F(t.footerContent),Dn.children("div").children().show())):(a=t.showRoundCorner?"ui-corner-bottom ":"",Hn.addClass(a)),Fn.mousedown(function(){n(i,vn)}),t.draggable&&(Fn.draggable({cancel:".no-draggable",start:function(){m("drag start"),(bn||zn)&&(Fn.css("position","fixed"),Fn.css(In)),D(),N(),t.onDrag&&t.onDrag(vn)},stop:function(){m("drag stop"),(bn||zn)&&(Fn.css("position","fixed"),Fn.css(In)),j(),Y(),t.afterDrag&&t.afterDrag(vn)}}),t.checkBoundary&&(t.withinBrowserWindow&&null==i?Fn.draggable("option","containment","window"):Fn.draggable("option","containment","parent"))),t.resizable&&(Fn.resizable({cancel:".no-resizable",alsoResize:Hn,start:function(){return m("resize start"),bn||zn?!1:(D(),N(),void(t.onResize&&t.onResize(vn)))},stop:function(){return m("resize stop"),bn||zn?!1:(j(),V(),Y(),void(t.afterResize&&t.afterResize(vn)))}}),t.checkBoundary,t.maxWidth>=0&&Fn.resizable("option","maxWidth",t.maxWidth),t.maxHeight>=0&&Fn.resizable("option","maxHeight",t.maxHeight),t.minWidth>=0&&Fn.resizable("option","minWidth",t.minWidth),t.minHeight>=0&&Fn.resizable("option","minHeight",t.minHeight)),$.isFunction(t.onShow)&&t.onShow(vn)}function v(e){var n=e.match(/:\/\/(.[^/]+)/);return null!=n&&n.length>=2?n[1]:null}function _(){if(null!=t.icon&&""!=t.icon){var e="<img class='window_title_icon' src='"+t.icon+"' style='display:none;' onload='javascript:$.Window._iconOnLoad(this);'/>";Rn.prepend(e)}}function b(e){if(t.icon=e,"auto"==t.icon&&(t.icon=M()),null!=t.icon){var n=Rn.children(".window_title_icon");null!=n.get(0)?(W(),n.attr("src",t.icon)):_()}}function z(){var e=Rn.children(".window_title_icon");if(null!=e.get(0)){e.show();var n=Rn.children(".window_title_text");n.css("margin-left","0"),On=20,V()}}function W(){var e=Rn.children(".window_title_icon");if(null!=e.get(0)){e.hide();var n=Rn.children(".window_title_text");n.css("margin-left","-20px"),On=0,V()}}function y(e){t.title=e,Rn.children(".window_title_text").text(e),bn&&q()}function k(){return t.title}function I(e){t.url=e,Hn.attr("src",e),null!=t.icon&&b("auto")}function M(){if(null!=t.url&&""!=$.trim(t.url)){var e=v(t.url);if(null!=e)return"http://"+e+"/favicon.ico"}return null}function L(){return t.url}function S(e){t.content=e,"object"==typeof e&&(e=$(e).clone(!0)),Hn.empty(),Hn.append(e)}function O(){return Hn.html()}function F(e){t.showFooter&&(t.footerContent=e,"object"==typeof e&&(e=$(e).clone(!0)),Dn.children("div").empty(),Dn.children("div").append(e))}function R(){return Dn.children("div").html()}function D(){var e=$("#window_overlay");null==e.get(0)&&($("body").append("<div id='window_overlay'>&nbsp;</div>"),e=$("#window_overlay"),e.css("z-index",t.z+1)),e.css(t.showModal?{opacity:t.modalOpacity}:{opacity:0}),e.show()}function j(e){(0==t.showModal||e)&&$("#window_overlay").hide()}function T(){var e=Fn.offset(),n=h();Fn.css({position:"fixed",left:e.left-n.left,top:e.top-n.top})}function B(){var e=Fn.offset();Fn.css({position:"absolute",left:e.left,top:e.top})}function E(e){if(null!=t.custBtns&&"object"==typeof t.custBtns)for(var n=0;n<t.custBtns.length;n++){var i=t.custBtns[n];if(null!=i&&"object"==typeof i)if(null!=i.id&&null!=i.callback){var o=null!=i.id?i.id:"",l=null!=i.clazz?i.clazz:"",a=null!=i.title?i.title:"",r=null!=i.style?i.style:"",d=null!=i.image?i.image:"",s=null!=i.callback?i.callback:"";e.append(null!=i.image&&""!=i.image?"<img id='"+o+"' src='"+d+"' title='"+a+"' class='"+l+" window_icon_button no-draggable' style='"+r+"'/>":"<div id='"+o+"' src='"+d+"' title='"+a+"' class='"+l+" window_icon_button no-draggable' style='"+r+"'></div>");var c=e.children("[id="+o+"]");c.get(0).clickCb=s,$.isFunction(s)&&c.click(function(){this.clickCb($(this),vn)})}else{var c=$(i).clone(!0);c.addClass("window_icon_button no-draggable cust_button"),e.append(c),c.show()}Mn+=C}}function U(e,n){Sn=!0,In=g(i,Ln),e?(Fn.css(In),Sn=!1,$.isFunction(n)&&n()):Fn.animate(In,H.animationSpeed,"swing",function(){Sn=!1,$.isFunction(n)&&n()})}function V(){Rn.children("div.window_title_text").width(Rn.width()-Mn-On)}function P(){var e=Fn.width(),n=Fn.height(),i=X(n);Hn.width(e),Hn.height(i)}function N(){var e=Hn.css("backgroundColor");null!=e&&"transparent"!=e&&"rgba(0, 0, 0, 0)"!=e&&Fn.css("backgroundColor",e),Hn.hide(),t.showFooter&&Dn.hide(),Fn.css("opacity",x)}function Y(){Hn.show(),t.showFooter&&Dn.show(),Fn.css("opacity",1)}function X(e){var n=t.showFooter?16:0;return e-20-n-4}function q(){if("top"!=H.dock&&"bottom"!=H.dock){var e=Rn.children("div.window_title_text"),n=Rn.children(".window_title_icon");e.addClass(n.is(":visible")?"window_title_text_vertical_with_icon":"window_title_text_vertical");for(var i=t.title,o="",l=0;l<i.length;l++){var a=i.charAt(l);("-"==a||"_"==a)&&(a="|")," "==a?(a="<div style='height:5px; line-height:5px;'>&nbsp;</div>",o+=a):o+=a+"<br>"}e.html(o)}}function G(){var e=Rn.children("div.window_title_text");e.removeClass("window_title_text_vertical"),e.removeClass("window_title_text_vertical_with_icon"),e.text(t.title)}function J(){return i}function K(){return Fn}function Q(){return Rn}function Z(){return Hn}function en(){return Dn}function nn(){return In}function tn(){var e=0,n=0;if(null!=i){var o=w(i);e=o.left+(i.width()-Fn.width())/2,n=o.top+(i.height()-Fn.height())/2}else{var l=h(),a=f();e=l.left+(a.width-Fn.width())/2,n=l.top+(a.height-Fn.height())/2}t.createRandomOffset.x>0&&(e+=(Math.random()-.5)*t.createRandomOffset.x),t.createRandomOffset.y>0&&(n+=(Math.random()-.5)*t.createRandomOffset.y),Fn.css({left:e,top:n})}function on(){var e=0;if(null!=i)e=w(i).left+(i.width()-Fn.width())/2;else{var n=h(),t=f();e=n.left+(t.width-Fn.width())/2}Fn.css({left:e})}function ln(){var e=0;if(null!=i)e=w(i).top+(i.height()-Fn.height())/2;else{var n=h(),t=f();e=n.top+(t.height-Fn.height())/2}Fn.css({top:e})}function an(){Cn=!0,0==zn&&(Fn.css("z-index",t.z+2),t.selectedHeaderClass&&Rn.addClass(t.selectedHeaderClass)),$.isFunction(t.onSelect)&&t.onSelect()}function rn(){Cn=!1,0==zn&&(Fn.css("z-index",t.z),t.selectedHeaderClass&&Rn.removeClass(t.selectedHeaderClass)),$.isFunction(t.onUnselect)&&t.onUnselect()}function dn(e,n,i){if(!zn&&!bn){var t={};if("number"==typeof e){if(i){var o=Fn.offset();e+=o.left}t.left=e}if("number"==typeof n){if(t.top=n,i){var o=Fn.offset();n+=o.top}t.top=n}Fn.css(t)}}function sn(e,n){if(!zn&&!bn){var i={};e>0&&(i.width=e),n>0&&(i.height=n),Fn.css(i),V()}}function cn(n,o){e()||null!=i||c(),zn=!0,Fn.draggable("disable"),Fn.resizable("disable"),1!=o&&(Wn.left=Fn.css("left"),Wn.top=Fn.css("top"),$n.w=Fn.width(),$n.h=Fn.height()),Fn.addClass("no-resizable");var l=h(),a=f();if(null!=i){var r=w(i);In={left:r.left,top:r.top,width:i.width(),height:i.height(),opacity:1}}else In={left:l.left,top:l.top,width:a.width,height:a.height,opacity:1};n?(Fn.css(In),V(),P(),Rn.removeClass("window_header_normal"),Rn.addClass("window_header_maximize"),An.children(".maximizeImg").hide(),An.children(".cascadeImg").show()):(N(),Fn.animate(In,H.animationSpeed,"swing",function(){e()&&null==i&&c(),Y(),V(),P(),Rn.removeClass("window_header_normal"),Rn.addClass("window_header_maximize"),An.children(".maximizeImg").hide(),An.children(".cascadeImg").show(),$.isFunction(t.afterMaximize)&&t.afterMaximize(vn)}),Fn.css("z-index",t.z+3)),$.isFunction(t.onMaximize)&&t.onMaximize(vn)}function un(){j(!0),u(),bn=!0,Fn.draggable("disable"),Fn.resizable("disable"),yn.left=Fn.css("left"),yn.top=Fn.css("top"),kn.w=Fn.width(),kn.h=Fn.height(),Ln=r(i),In={opacity:x},Fn.addClass("no-resizable"),null==i&&null==H.dockArea&&T(),An.hide(),N(),d(i,!0),U(!1,function(){Fn.css("z-index",t.z),Rn.children("div.window_title_text").width("96%"),Rn.attr("title",t.title),Rn.removeClass("window_header_normal"),Rn.removeClass("window_header_maximize"),Rn.addClass("window_header_minimize"),("left"==H.dock||"right"==H.dock)&&Rn.addClass("window_header_minimize_vertical"),t.showRoundCorner&&(Rn.removeClass("ui-corner-top"),Rn.addClass("ui-corner-all")),q(),Rn.click(function(){Sn||fn()}),$.isFunction(t.afterMinimize)&&t.afterMinimize(vn)}),Fn.mouseover(function(){$(this).css("opacity",1)}),Fn.mouseout(function(){$(this).css("opacity",x)}),$.isFunction(t.onMinimize)&&t.onMinimize(vn),l(i,vn)}function fn(){t.showModal&&D();var e=null,n=null,o=t.z+2;if(bn)if(e=yn,n=kn,null==i&&B(),G(),Rn.removeAttr("title"),Rn.removeClass("window_header_minimize"),Rn.removeClass("window_header_minimize_vertical"),zn){if(Rn.addClass("window_header_maximize"),null!=i)e=w(i);else{var l=h();e={left:l.left,top:l.top}}o=t.z+3,Fn.css("z-index",o)}else Rn.addClass("window_header_normal"),Fn.removeClass("no-resizable");else zn&&(zn=!1,e=Wn,n=$n,Rn.removeClass("window_header_maximize"),Rn.addClass("window_header_normal"),Fn.removeClass("no-resizable"));t.showRoundCorner&&(Rn.removeClass("ui-corner-all"),Rn.addClass("ui-corner-top")),Fn.unbind("mouseover"),Fn.unbind("mouseout"),In={left:e.left,top:e.top,width:n.w,height:n.h,opacity:1},N(),Fn.animate(In,H.animationSpeed,"swing",function(){Fn.css("z-index",o),Y(),Rn.unbind("click"),V(),P(),zn?(null==i&&c(),An.children(".maximizeImg").hide(),An.children(".cascadeImg").show()):(u(),Fn.draggable("enable"),Fn.resizable("enable"),An.children(".maximizeImg").show(),An.children(".cascadeImg").hide()),An.show(),bn&&(bn=!1,a(i,vn),d(i,!1),s(i)),$.isFunction(t.afterCascade)&&t.afterCascade(vn)}),$.isFunction(t.onCascade)&&t.onCascade(vn)}function hn(e){!e&&$.isFunction(t.onClose)&&t.onClose(vn),wn()}function wn(){xn=!1,zn&&u(),o(vn),Fn.remove(),j(!0)}function gn(){Fn.show()}function mn(){Fn.hide()}function pn(){Ln--}var vn=null,_n="window_"+A++,bn=!1,zn=!1,Cn=!1,xn=!1,Wn=new Object,$n=new Object,yn=new Object,kn=new Object,In={},An=null,Mn=0,Ln=-1,Sn=!1,On=0,Fn=null,Rn=null,Hn=null,Dn=null,t=$.extend({icon:"auto",title:"",url:"",content:"",footerContent:"",containerClass:"",headerClass:"",frameClass:"",footerClass:"",selectedHeaderClass:"",x:-1,y:-1,z:2e3,width:400,height:300,minWidth:200,minHeight:150,maxWidth:800,maxHeight:600,showModal:!1,modalOpacity:.5,showFooter:!0,showRoundCorner:!1,closable:!0,minimizable:!0,maximizable:!0,draggable:!0,resizable:!0,scrollable:!0,checkBoundary:!1,withinBrowserWindow:!1,custBtns:null,onOpen:null,onShow:null,onClose:null,onSelect:null,onUnselect:null,onDrag:null,afterDrag:null,onResize:null,afterResize:null,onMinimize:null,afterMinimize:null,onMaximize:null,afterMaximize:null,onCascade:null,afterCascade:null,onIframeStart:null,onIframeEnd:null,iframeRedirectCheckMsg:null,createRandomOffset:{x:0,y:0}},t);return{initialize:p,getTargetCssStyle:nn,getWindowId:function(){return _n},getCaller:J,getContainer:K,getHeader:Q,getFrame:Z,getFooter:en,alignCenter:tn,alignHorizontalCenter:on,alignVerticalCenter:ln,select:an,unselect:rn,move:dn,resize:sn,maximize:cn,minimize:un,restore:fn,close:hn,hide:mn,show:gn,setTitle:y,setUrl:I,setContent:S,setFooterContent:F,getTitle:k,getUrl:L,getContent:O,getFooterContent:R,isMaximized:function(){return zn},isMinimized:function(){return bn},isSelected:function(){return Cn},setIcon:b,showIcon:z,hideIcon:W,_decreaseMiniIndex:pn,_adjustMinimizedPos:U,_setOrgWH:function(e){kn.w=e.width,kn.h=e.height},_transformTitleText:q,toString:function(){return"[Window] id="+_n+", title="+t.title}}}var _="5.0.4",b=16,z=4,C=b+z,x=.7,W=24,y=120,k=200,I=navigator.userAgent.toLowerCase(),A=0,M=null,L=[],S=!1,O=null,F=[],R={"long":y,storage:[]},H={dock:"left",dockArea:null,animationSpeed:400,minWinNarrow:W,minWinLong:y,handleScrollbar:!0,showLog:!1};return{getInstance:function(e,i){var o=v(e,i);return o.initialize(o),n(e,o),t(o),null!=e&&(null==e.get(0)._minWinData&&(e.get(0)._minWinData={"long":H.minWinLong,storage:[]}),F.push(e)),S||($(window).resize(function(){null!=O&&clearTimeout(O),O=window.setTimeout(function(){for(var e=f(),n=0,i=L.length;i>n;n++){var t=L[n];t.isMaximized()&&(t.isMinimized()?t._setOrgWH(e):t.maximize(!0,!0)),t.isMinimized()&&t._adjustMinimizedPos(!0)}},k)}),S=!0),o},getVersion:function(){return _},prepare:function(e){if($.extend(H,e),R.long=H.minWinLong,null!=H.dockArea){var n=$(H.dockArea);null==n.get(0)._minWinData&&(n.get(0)._minWinData={"long":H.minWinLong,storage:[]})}},closeAll:function(e){for(var n=L.length,i=0;n>i;i++){var t=L[0];t.close(e)}L=[],R.storage=[],R.long=H.minWinLong;for(var i=0;i<F.length;i++){var o=F[i].get(0)._minWinData;o.storage=[],o.long=H.minWinLong}},hideAll:function(){for(var e=0,n=L.length;n>e;e++)L[e].getContainer().hide()},showAll:function(){for(var e=0,n=L.length;n>e;e++)L[e].getContainer().show()},getAll:function(){return L},getWindow:i,getSelectedWindow:function(){for(var e=0,n=L.length;n>e;e++){var i=L[e];if(i.isSelected())return i}},_iconOnLoad:function(e){var n=$(e).parent().parent().attr("id");if(m("_iconOnLoad: "+n),null!=n){var i=$.Window.getWindow(n);null!=i&&i.showIcon()}else p("[_iconOnLoad] lost window id!!!")}}}(),$.window.getVersion=$.Window.getVersion,$.window.prepare=$.Window.prepare,$.window.closeAll=$.Window.closeAll,$.window.hideAll=$.Window.hideAll,$.window.showAll=$.Window.showAll,$.window.getAll=$.Window.getAll,$.window.getWindow=$.Window.getWindow,$.window.getSelectedWindow=$.Window.getSelectedWindow;